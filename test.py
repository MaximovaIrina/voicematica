# # -*- coding: utf-8 -*-
import re
import openai

from vm_token import GPT_TOKEN

openai.api_key = GPT_TOKEN

import time



# # txt = """
# # –ú–µ—Ç–æ–¥–∏—á–∫–∞-–≤–æ–ø—Ä–æ—Å–Ω–∏–∫ —Ä–∞—Å—Å–µ—Ä–∂–µ–Ω–Ω–æ–≥–æ –ø–∞—Ç—Ä–∏–æ—Ç–∞. (–°–±–æ—Ä–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è–º –≤–ª–∞—Å—Ç–∏ –∏ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–æ–Ω–∞–º-–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è–º, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä—è–º—ã–µ –∏ —á–µ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —Å –≤—ã—Ç–µ–∫–∞—é—â–∏–º–∏ –æ—Ä–≥-–≤—ã–≤–æ–¥–∞–º–∏).

# # I. –í–æ–ø—Ä–æ—Å—ã "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ":

# # 1) –í –¥–≤–µ —Ç—ã—Å—è—á–∏ —á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–º –≥–æ–¥—É –≤–ª–∞—Å—Ç—å —É–∫—Ä–æ-—Ö—É–Ω—Ç—ã –≤–∏—Å–µ–ª–∞ –Ω–∞ –≤–æ–ª–æ—Å–∫–µ, –≤—Å—è –ù–æ–≤–æ—Ä–æ—Å—Å–∏—è - –≥–ª—è–¥—è –Ω–∞ –ö—Ä—ã–º - —Å –Ω–∞–¥–µ–∂–¥–æ–π –∂–¥–∞–ª–∞ –†–æ—Å—Å–∏—é. –ù–æ –ö—Ä–µ–º–ª—å —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –≤–≤–æ–¥–∞ –º–∏—Ä–æ—Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —Å–∏–ª –≤ –î–æ–Ω–±–∞—Å—Å, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–≤—ã–º –≤ –º–∏—Ä–µ –ø—Ä–∏–∑–Ω–∞–ª –ª–µ–≥–∏—Ç–∏–º–Ω–æ—Å—Ç—å –∏–∑–±—Ä–∞–Ω–∏—è –ü–æ—Ä–æ—à–µ–Ω–∫–æ.

# # (–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: negative)
# # """
# # a = "negative"
# # # print(txt.replace(f"(–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: {a})", ""))
# # # print(re.findall("\(–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: positive|neutral|negative)", txt)[0][0] == f"(–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: {a})")
# # predicted_atmosphere = re.findall("\(–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: (positive|neutral|negative)\)", txt)[0]
# # print(txt.replace(f"(–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: {predicted_atmosphere})", ""))
# # raise

# # text = "–í –¥–≤–µÃÅ —Ç—ãÃÅ—Å—è—á–∏ —á–µ—Ç—ãÃÅ—Ä–Ω–∞–¥—Ü–∞—Ç–æ–º –≥–æÃÅ–¥—É —è –≤—Å—Ç—Ä–µÃÅ—Ç–∏–ª –≤–∞ÃÅ—à—É –º–∞ÃÅ–º—É –ø–µÃÅ—Ä–≤—ã–π —Ä–∞–∑"
# # text_without_accents = ""
# # i = 0
# # while i < len(text) - 1:
# #     print(i)
# #     if text[i+1] == "ÃÅ":
# #         text_without_accents += "+" + text[i]
# #         i += 1
# #     else:
# #         text_without_accents += text[i]
# #     i += 1
# # # text_with_plus = re.sub('[ÃÅ]', '+', text)

# # print(text_without_accents)
# # raise



# # def generate_prompt(text : str):
# #     return [
# #         {"role": "user", "content": """–ü–µ—Ä–µ–ø–µ—à–∏ —Ç–µ–∫—Å—Ç, —Ä–∞—Å—Å—Ç–∞–≤–ª—è—è —É–¥–∞—Ä–µ–Ω–∏—è –∏ –∑–∞–º–µ–Ω–∏—è —á–∏—Å–ª–∞ –∏ –¥–∞—Ç—ã –≤ —Ç–µ–∫—Å—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–µ —Å–ª–æ–≤–∞. –°–ª–æ–≤–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ –æ—Å—Ç–∞–≤—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π. –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ–∫–æ–Ω—á–∞–Ω–∏–π –≤ —Å–ª–æ–≤–∞—Ö. –í –∫–æ–Ω—Ü–µ —Å–∫–∞–∂–∏ –æ–±—â–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è(positive/neutral/negative).
# #         –¢–µ–∫—Å—Ç: 1) –í 2014 —è –≤—Å—Ç–µ—Ç—Ä–∏–ª –≤–∞—à—É –º–∞–º—É 1–π —Ä–∞–∑ –≤ –í–° –õ–î–ü–†.
# #         –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç: –ü–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç) –í –¥–≤–µ —Ç—ãÃÅ—Å—è—á–∏ —á–µ—Ç—ãÃÅ—Ä–Ω–∞–¥—Ü–∞—Ç–æ–º –≥–æÃÅ–¥—É —è –≤—Å—Ç—Ä–µÃÅ—Ç–∏–ª –≤–∞ÃÅ—à—É –º–∞ÃÅ–º—É –ø–µÃÅ—Ä–≤—ã–π —Ä–∞–∑ –≤ –í–°–£ –õ–î–ü–†. (–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: positive)
# #         –¢–µ–∫—Å—Ç: {}
# #         –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:""".format(text)}
# #     ]


# # text = """1) –í 2014-–º –≥–æ–¥—É –≤–ª–∞—Å—Ç—å —É–∫—Ä–æ-—Ö—É–Ω—Ç—ã –≤–∏—Å–µ–ª–∞ –Ω–∞ –≤–æ–ª–æ—Å–∫–µ –í–°–£ –í–°–£ –í–°–£, –≤—Å—è –ù–æ–≤–æ—Ä–æ—Å—Å–∏—è - –≥–ª—è–¥—è –Ω–∞ –ö—Ä—ã–º - —Å –Ω–∞–¥–µ–∂–¥–æ–π –∂–¥–∞–ª–∞ –†–æ—Å—Å–∏—é. 2) –ù–æ –ö—Ä–µ–º–ª—å —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –≤–≤–æ–¥–∞ –º–∏—Ä–æ—Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —Å–∏–ª –≤ –î–æ–Ω–±–∞—Å—Å, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–≤—ã–º –≤ –º–∏—Ä–µ –ø—Ä–∏–∑–Ω–∞–ª –ª–µ–≥–∏—Ç–∏–º–Ω–æ—Å—Ç—å –∏–∑–±—Ä–∞–Ω–∏—è –ü–æ—Ä–æ—à–µ–Ω–∫–æ. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ 8-–ª–µ—Ç–Ω–µ–π \"–º–∏–Ω—Å–∫–æ–π —Ç—è–≥–æ–º–æ—Ç–∏–Ω—ã\" –≤–ª–∞—Å—Ç–∏ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π \"—É–∫—Ä–∞–∏–Ω–∞\" —Å–æ–∑–¥–∞–ª–∏ –±–æ–µ—Å–ø–æ—Å–æ–±–Ω—É—é –∞—Ä–º–∏—é, –ø–æ–¥–∞–≤–∏–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –ø—Ä–æ–º—ã–ª–∏ –º–æ–∑–≥–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –∏ –∫ 2022 –≥–æ–¥—É –æ–∫–∞–∑–∞–ª–∏—Å—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è—Ç—å –í–° –†–§ –Ω–∞ –ø–æ–ª–µ –±–æ—è. –ö–¢–û –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ -–ø—Ä–æ–≤–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –†–æ—Å—Å–∏—è —Ä–∞—Å–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è —Ç—ã—Å—è—á–∞–º–∏ –∂–∏–∑–Ω–µ–π –∏ –¥–µ—Å—è—Ç–∫–∞–º–∏ —Ç—ã—Å—è—á –∫–∞–ª–µ–∫? –ö—Ç–æ –ø–æ–Ω—ë—Å –∏–ª–∏ –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–µ—Å—Ç–∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ –∑–∞ –¥–∞–Ω–Ω—ã–π –∫—Ä–µ—Ç–∏–Ω–∏–∑–º –∏/–∏–ª–∏ –ø—Ä—è–º–æ–µ –≤—Ä–µ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–æ?"""

# # start = time.time()
# # completion = openai.ChatCompletion.create(
# #   model="gpt-3.5-turbo",
# #   messages=generate_prompt(text),
# #   temperature=0,
# # )

# # print(completion.choices[0].message.content)
# # print(time.time() - start)

# # "positive/neutral/negative. –ù–∞–ø–∏—à–∏ —Å—É–ø–µ—Ä –∫–æ—Ä–æ—Ç–∫–∏–π ¬†–∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ —Å–æ–∂–µ—Ä–∂–∞–Ω–∏–∏ —Ç–µ–∫c—Ç–∞ –∏ –æ –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏."
# start = time.time()
# completion = openai.ChatCompletion.create(
#   model="gpt-3.5-turbo",
#   messages=[{"role": "user", "content": """–ù–∞–ø–∏—à–∏ —Å—É–ø–µ—Ä –∫–æ—Ä–æ—Ç–∫–∏–π ¬†–∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ —Å–æ–∂–µ—Ä–∂–∞–Ω–∏–∏ —Ç–µ–∫c—Ç–∞. –¢–≤–æ–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç–≤–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—É: "–°–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ <—Ç—Ä–∏-—á–µ—Ç—ã—Ä–µ —Å–ª–æ–≤–∞ –æ —Ç–µ–∫—Å—Ç–µ>". –ú–µ—Ç–æ–¥–∏—á–∫–∞-–≤–æ–ø—Ä–æ—Å–Ω–∏–∫ —Ä–∞—Å—Å–µ—Ä–∂–µ–Ω–Ω–æ–≥–æ –ø–∞—Ç—Ä–∏–æ—Ç–∞. (–°–±–æ—Ä–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è–º –≤–ª–∞—Å—Ç–∏ –∏ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–æ–Ω–∞–º-–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è–º, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Ö–æ—Ç–µ–ª–æ—Å—å-–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä—è–º—ã–µ –∏ —á–µ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —Å –≤—ã—Ç–µ–∫–∞—é—â–∏–º–∏ –æ—Ä–≥-–≤—ã–≤–æ–¥–∞–º–∏).

# I. –í–æ–ø—Ä–æ—Å—ã "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ":

# 1) –í 2014-–º –≥–æ–¥—É –≤–ª–∞—Å—Ç—å —É–∫—Ä–æ-—Ö—É–Ω—Ç—ã –≤–∏—Å–µ–ª–∞ –Ω–∞ –≤–æ–ª–æ—Å–∫–µ, –≤—Å—è –ù–æ–≤–æ—Ä–æ—Å—Å–∏—è - –≥–ª—è–¥—è –Ω–∞ –ö—Ä—ã–º - —Å –Ω–∞–¥–µ–∂–¥–æ–π –∂–¥–∞–ª–∞ –†–æ—Å—Å–∏—é. –ù–æ –ö—Ä–µ–º–ª—å —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –≤–≤–æ–¥–∞ –º–∏—Ä–æ—Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —Å–∏–ª –≤ –î–æ–Ω–±–∞—Å—Å, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–≤—ã–º –≤ –º–∏—Ä–µ –ø—Ä–∏–∑–Ω–∞–ª –ª–µ–≥–∏—Ç–∏–º–Ω–æ—Å—Ç—å –∏–∑–±—Ä–∞–Ω–∏—è –ü–æ—Ä–æ—à–µ–Ω–∫–æ. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ 8-–ª–µ—Ç–Ω–µ–π "–º–∏–Ω—Å–∫–æ–π —Ç—è–≥–æ–º–æ—Ç–∏–Ω—ã" –≤–ª–∞—Å—Ç–∏ —Ç.–Ω. "—É–∫—Ä–∞–∏–Ω–∞" —Å–æ–∑–¥–∞–ª–∏ –±–æ–µ—Å–ø–æ—Å–æ–±–Ω—É—é –∞—Ä–º–∏—é, –ø–æ–¥–∞–≤–∏–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –ø—Ä–æ–º—ã–ª–∏ –º–æ–∑–≥–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –∏ –∫ 2022 –≥–æ–¥—É –æ–∫–∞–∑–∞–ª–∏—Å—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è—Ç—å –í–° –†–§ –Ω–∞ –ø–æ–ª–µ –±–æ—è. –ö–¢–û –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ -–ø—Ä–æ–≤–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –†–æ—Å—Å–∏—è —Ä–∞—Å–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è —Ç—ã—Å—è—á–∞–º–∏ –∂–∏–∑–Ω–µ–π –∏ –¥–µ—Å—è—Ç–∫–∞–º–∏ —Ç—ã—Å—è—á –∫–∞–ª–µ–∫? –ö—Ç–æ –ø–æ–Ω—ë—Å –∏–ª–∏ –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–µ—Å—Ç–∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ –∑–∞ –¥–∞–Ω–Ω—ã–π –∫—Ä–µ—Ç–∏–Ω–∏–∑–º –∏/–∏–ª–∏ –ø—Ä—è–º–æ–µ –≤—Ä–µ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–æ?"""},],
#   temperature=0,
# )

# print(completion.choices[0].message.content)
# print(time.time() - start)


# start = time.time()
# completion = openai.ChatCompletion.create(
#   model="gpt-3.5-turbo",
#   messages=[{"role": "user", "content": """–ö–∞–∫–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤ —ç—Ç–æ–º —Ç–µ–∫—Ç—Å–µ? –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞: positive/neutral/negative. –ù–∞–ø–∏—à–∏ —Ç–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç.
# –ú–µ—Ç–æ–¥–∏—á–∫–∞-–≤–æ–ø—Ä–æ—Å–Ω–∏–∫ —Ä–∞—Å—Å–µ—Ä–∂–µ–Ω–Ω–æ–≥–æ –ø–∞—Ç—Ä–∏–æ—Ç–∞. (–°–±–æ—Ä–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è–º –≤–ª–∞—Å—Ç–∏ –∏ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–æ–Ω–∞–º-–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è–º, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Ö–æ—Ç–µ–ª–æ—Å—å-–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä—è–º—ã–µ –∏ —á–µ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —Å –≤—ã—Ç–µ–∫–∞—é—â–∏–º–∏ –æ—Ä–≥-–≤—ã–≤–æ–¥–∞–º–∏).

# I. –í–æ–ø—Ä–æ—Å—ã "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ":

# 1) –í 2014-–º –≥–æ–¥—É –≤–ª–∞—Å—Ç—å —É–∫—Ä–æ-—Ö—É–Ω—Ç—ã –≤–∏—Å–µ–ª–∞ –Ω–∞ –≤–æ–ª–æ—Å–∫–µ, –≤—Å—è –ù–æ–≤–æ—Ä–æ—Å—Å–∏—è - –≥–ª—è–¥—è –Ω–∞ –ö—Ä—ã–º - —Å –Ω–∞–¥–µ–∂–¥–æ–π –∂–¥–∞–ª–∞ –†–æ—Å—Å–∏—é. –ù–æ –ö—Ä–µ–º–ª—å —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –≤–≤–æ–¥–∞ –º–∏—Ä–æ—Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —Å–∏–ª –≤ –î–æ–Ω–±–∞—Å—Å, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–≤—ã–º –≤ –º–∏—Ä–µ –ø—Ä–∏–∑–Ω–∞–ª –ª–µ–≥–∏—Ç–∏–º–Ω–æ—Å—Ç—å –∏–∑–±—Ä–∞–Ω–∏—è –ü–æ—Ä–æ—à–µ–Ω–∫–æ. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ 8-–ª–µ—Ç–Ω–µ–π "–º–∏–Ω—Å–∫–æ–π —Ç—è–≥–æ–º–æ—Ç–∏–Ω—ã" –≤–ª–∞—Å—Ç–∏ —Ç.–Ω. "—É–∫—Ä–∞–∏–Ω–∞" —Å–æ–∑–¥–∞–ª–∏ –±–æ–µ—Å–ø–æ—Å–æ–±–Ω—É—é –∞—Ä–º–∏—é, –ø–æ–¥–∞–≤–∏–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –ø—Ä–æ–º—ã–ª–∏ –º–æ–∑–≥–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –∏ –∫ 2022 –≥–æ–¥—É –æ–∫–∞–∑–∞–ª–∏—Å—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è—Ç—å –í–° –†–§ –Ω–∞ –ø–æ–ª–µ –±–æ—è. –ö–¢–û –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ -–ø—Ä–æ–≤–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∑–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –†–æ—Å—Å–∏—è —Ä–∞—Å–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è —Ç—ã—Å—è—á–∞–º–∏ –∂–∏–∑–Ω–µ–π –∏ –¥–µ—Å—è—Ç–∫–∞–º–∏ —Ç—ã—Å—è—á –∫–∞–ª–µ–∫? –ö—Ç–æ –ø–æ–Ω—ë—Å –∏–ª–∏ –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–µ—Å—Ç–∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ –∑–∞ –¥–∞–Ω–Ω—ã–π –∫—Ä–µ—Ç–∏–Ω–∏–∑–º –∏/–∏–ª–∏ –ø—Ä—è–º–æ–µ –≤—Ä–µ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–æ?"""},],
#   temperature=0,
# )

# print(completion.choices[0].message.content)
# print(time.time() - start)


# start = time.time()
# completion = openai.ChatCompletion.create(
#   model="gpt-3.5-turbo",
#   # messages=[{"role": "user", "content": """–ü–µ—Ä–µ–ø–∏—à–∏ —Ç–µ–∫—Å—Ç, –∑–∞–º–µ–Ω—è—è —á–∏—Å–ª–∞ –∏ –¥–∞—Ç—ã –Ω–∞ —Å–ª–æ–≤–∞. –ß–∏—Å–ª–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç–≤—É—é—Ç –Ω–æ–º–µ—Ä—É –ø—É–Ω—Ç–∫–∞ –ø–µ—Ä–µ–ø–∏—à–∏ —Å–æ —Å–ª–æ–≤–æ–º \"–ø—É–Ω–∫—Ç\" (–Ω–∞–ø—Ä–∏–º–µ—Ä "1) –ö—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–¥–∫—Ç—ã" == "–ü–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç) –ö—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã"). –°–ª–æ–≤–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ –æ—Å—Ç–∞–≤—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
#   # –ú–µ—Ç–æ–¥–∏—á–∫–∞-–≤–æ–ø—Ä–æ—Å–Ω–∏–∫ —Ä–∞—Å—Å–µ—Ä–∂–µ–Ω–Ω–æ–≥–æ –ø–∞—Ç—Ä–∏–æ—Ç–∞. (–°–±–æ—Ä–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è–º –≤–ª–∞—Å—Ç–∏ –∏ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–æ–Ω–∞–º-–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è–º, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Ö–æ—Ç–µ–ª–æ—Å—å-–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä—è–º—ã–µ –∏ —á–µ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —Å –≤—ã—Ç–µ–∫–∞—é—â–∏–º–∏ –æ—Ä–≥-–≤—ã–≤–æ–¥–∞–º–∏).\n\nI. –í–æ–ø—Ä–æ—Å—ã "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ":\n\n1) –í 2014-–º –≥–æ–¥—É –≤–ª–∞—Å—Ç—å —É–∫—Ä–æ-—Ö—É–Ω—Ç—ã –≤–∏—Å–µ–ª–∞ –Ω–∞ –≤–æ–ª–æ—Å–∫–µ, –≤—Å—è –ù–æ–≤–æ—Ä–æ—Å—Å–∏—è - –≥–ª—è–¥—è –Ω–∞ –ö—Ä—ã–º - —Å –Ω–∞–¥–µ–∂–¥–æ–π –∂–¥–∞–ª–∞ –†–æ—Å—Å–∏—é. –ù–æ –ö—Ä–µ–º–ª—å —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –≤–≤–æ–¥–∞ –º–∏—Ä–æ—Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —Å–∏–ª –≤ –î–æ–Ω–±–∞—Å—Å, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–≤—ã–º –≤ –º–∏—Ä–µ –ø—Ä–∏–∑–Ω–∞–ª –ª–µ–≥–∏—Ç–∏–º–Ω–æ—Å—Ç—å –∏–∑–±—Ä–∞–Ω–∏—è –ü–æ—Ä–æ—à–µ–Ω–∫–æ."""},],
#   messages=[{"role": "user", "content": """–ü–µ—Ä–µ–ø–µ—à–∏ —Ç–µ–∫—Å—Ç –∑–∞–º–µ–Ω—è—è —á–∏—Å–ª–∞ –∏ –¥–∞—Ç—ã –Ω–∞ –Ω—É–∂–Ω—ã–µ —Å–ª–æ–≤–∞. –°–ª–æ–≤–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ –æ—Å—Ç–∞–≤—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π. –ß–∏—Å–ª–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç–≤—É—é—Ç –Ω–æ–º–µ—Ä—É –ø—É–Ω—Ç–∫–∞ –ø–µ—Ä–µ–ø–∏—à–∏ —Å–æ —Å–ª–æ–≤–æ–º \"–ø—É–Ω–∫—Ç\". –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ–∫–æ–Ω—á–∞–Ω–∏–π –≤ —Å–ª–æ–≤–∞—Ö.
#         –¢–µ–∫—Å—Ç: 1) –í 2014 —è –≤—Å—Ç–µ—Ç—Ä–∏–ª –≤–∞—à—É –º–∞–º—É 1–π —Ä–∞–∑ –≤ –í–° –õ–î–ü–†.
#         –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç: –ü–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç) –í –¥–≤–µ —Ç—ã—Å—è—á–∏ —á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–º –≥–æ–¥—É —è –≤—Å—Ç—Ä–µ—Ç–∏–ª –≤–∞—à—É –º–∞–º—É –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –≤ –í–°–£ –õ–î–ü–†.
#         –¢–µ–∫—Å—Ç: –ú–µ—Ç–æ–¥–∏—á–∫–∞-–≤–æ–ø—Ä–æ—Å–Ω–∏–∫ —Ä–∞—Å—Å–µ—Ä–∂–µ–Ω–Ω–æ–≥–æ –ø–∞—Ç—Ä–∏–æ—Ç–∞. (–°–±–æ—Ä–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è–º –≤–ª–∞—Å—Ç–∏ –∏ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–æ–Ω–∞–º-–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è–º, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Ö–æ—Ç–µ–ª–æ—Å—å-–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä—è–º—ã–µ –∏ —á–µ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —Å –≤—ã—Ç–µ–∫–∞—é—â–∏–º–∏ –æ—Ä–≥-–≤—ã–≤–æ–¥–∞–º–∏).\n\nI. –í–æ–ø—Ä–æ—Å—ã "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ":\n\n1) –í 2014-–º –≥–æ–¥—É –≤–ª–∞—Å—Ç—å —É–∫—Ä–æ-—Ö—É–Ω—Ç—ã –≤–∏—Å–µ–ª–∞ –Ω–∞ –≤–æ–ª–æ—Å–∫–µ, –≤—Å—è –ù–æ–≤–æ—Ä–æ—Å—Å–∏—è - –≥–ª—è–¥—è –Ω–∞ –ö—Ä—ã–º - —Å –Ω–∞–¥–µ–∂–¥–æ–π –∂–¥–∞–ª–∞ –†–æ—Å—Å–∏—é. –ù–æ –ö—Ä–µ–º–ª—å —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –≤–≤–æ–¥–∞ –º–∏—Ä–æ—Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —Å–∏–ª –≤ –î–æ–Ω–±–∞—Å—Å, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–≤—ã–º –≤ –º–∏—Ä–µ –ø—Ä–∏–∑–Ω–∞–ª –ª–µ–≥–∏—Ç–∏–º–Ω–æ—Å—Ç—å –∏–∑–±—Ä–∞–Ω–∏—è –ü–æ—Ä–æ—à–µ–Ω–∫–æ.
#         –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:"""}],
#   temperature=0,
# )

# print(completion.choices[0].message.content)
# print(time.time() - start)
txt = """–ü—Ä–æ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–µ —Å—á–µ—Ç–∞

C 25 –∞–ø—Ä–µ–ª—è 2023 –≥–æ–¥–∞ –º—ã —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—Ç–∞–≤–∫—É –ø–æ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ–º—É —Å—á–µ—Ç—É ¬´–ù–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫¬ª:

üî∏–î–æ 6% –Ω–∞ —Å—É–º–º—É –¥–æ 150 000 ‚ÇΩ –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤;

üî∏–î–æ 6% –Ω–∞ —Å—É–º–º—É –¥–æ 1 000 000 ‚ÇΩ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –ø–∞–∫–µ—Ç–∞–º–∏ ¬´–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π¬ª –∏ ¬´–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π 5¬ª;

üî∏–ù–∞ –æ—Å—Ç–∞—Ç–æ–∫ –≤—ã—à–µ –±—É–¥–µ—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å—Ç–∞–≤–∫–∞ 0,01%.

–û—Ç–∫—Ä—ã—Ç—å –º–æ–∂–Ω–æ –Ω–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å—á–µ—Ç–∞, –∞ —Ä–∞–Ω–µ–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ —Å—á–µ—Ç–∞ —Å 25 –∞–ø—Ä–µ–ª—è –±—É–¥—É—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å—Å—è –ø–æ –Ω–æ–≤—ã–º —É—Å–ª–æ–≤–∏—è–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ë–æ–ª—å—à–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π —Ç—É—Ç."""

start = time.time()
completion = openai.ChatCompletion.create(
  model="gpt-3.5-turbo",
  # messages=[{"role": "user", "content": """–ü–µ—Ä–µ–ø–∏—à–∏ —Ç–µ–∫—Å—Ç, –∑–∞–º–µ–Ω—è—è —á–∏—Å–ª–∞ –∏ –¥–∞—Ç—ã –Ω–∞ —Å–ª–æ–≤–∞. –ß–∏—Å–ª–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç–≤—É—é—Ç –Ω–æ–º–µ—Ä—É –ø—É–Ω—Ç–∫–∞ –ø–µ—Ä–µ–ø–∏—à–∏ —Å–æ —Å–ª–æ–≤–æ–º \"–ø—É–Ω–∫—Ç\" (–Ω–∞–ø—Ä–∏–º–µ—Ä "1) –ö—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–¥–∫—Ç—ã" == "–ü–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç) –ö—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã"). –°–ª–æ–≤–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ –æ—Å—Ç–∞–≤—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
  # –ú–µ—Ç–æ–¥–∏—á–∫–∞-–≤–æ–ø—Ä–æ—Å–Ω–∏–∫ —Ä–∞—Å—Å–µ—Ä–∂–µ–Ω–Ω–æ–≥–æ –ø–∞—Ç—Ä–∏–æ—Ç–∞. (–°–±–æ—Ä–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è–º –≤–ª–∞—Å—Ç–∏ –∏ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–æ–Ω–∞–º-–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—è–º, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Ö–æ—Ç–µ–ª–æ—Å—å-–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä—è–º—ã–µ –∏ —á–µ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —Å –≤—ã—Ç–µ–∫–∞—é—â–∏–º–∏ –æ—Ä–≥-–≤—ã–≤–æ–¥–∞–º–∏).\n\nI. –í–æ–ø—Ä–æ—Å—ã "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ":\n\n1) –í 2014-–º –≥–æ–¥—É –≤–ª–∞—Å—Ç—å —É–∫—Ä–æ-—Ö—É–Ω—Ç—ã –≤–∏—Å–µ–ª–∞ –Ω–∞ –≤–æ–ª–æ—Å–∫–µ, –≤—Å—è –ù–æ–≤–æ—Ä–æ—Å—Å–∏—è - –≥–ª—è–¥—è –Ω–∞ –ö—Ä—ã–º - —Å –Ω–∞–¥–µ–∂–¥–æ–π –∂–¥–∞–ª–∞ –†–æ—Å—Å–∏—é. –ù–æ –ö—Ä–µ–º–ª—å —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –≤–≤–æ–¥–∞ –º–∏—Ä–æ—Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —Å–∏–ª –≤ –î–æ–Ω–±–∞—Å—Å, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–≤—ã–º –≤ –º–∏—Ä–µ –ø—Ä–∏–∑–Ω–∞–ª –ª–µ–≥–∏—Ç–∏–º–Ω–æ—Å—Ç—å –∏–∑–±—Ä–∞–Ω–∏—è –ü–æ—Ä–æ—à–µ–Ω–∫–æ."""},],
  messages=[{"role": "user", "content": f"""–ü–µ—Ä–µ–ø–µ—à–∏ —Ç–µ–∫—Å—Ç –∑–∞–º–µ–Ω—è—è —á–∏—Å–ª–∞ –∏ –¥–∞—Ç—ã –Ω–∞ –Ω—É–∂–Ω—ã–µ —Å–ª–æ–≤–∞. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ—Å—Ç–∞–≤—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π. –ß–∏—Å–ª–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç–≤—É—é—Ç –Ω–æ–º–µ—Ä—É –ø—É–Ω—Ç–∫–∞ –ø–µ—Ä–µ–ø–∏—à–∏ —Å–æ —Å–ª–æ–≤–æ–º \"–ø—É–Ω–∫—Ç\". –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ–∫–æ–Ω—á–∞–Ω–∏–π –≤ —Å–ª–æ–≤–∞—Ö.
        –¢–µ–∫—Å—Ç: 1) –í 2014 —è –≤—Å—Ç–µ—Ç—Ä–∏–ª –≤–∞—à—É –º–∞–º—É 1–π —Ä–∞–∑ –≤ –í–°–£ "–õ–î–ü–† 5", –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –±—ã–ª–∞ 0.01.
        –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç: –ü–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç) –í –¥–≤–µ —Ç—ã—Å—è—á–∏ —á–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç–æ–º –≥–æ–¥—É —è –≤—Å—Ç—Ä–µ—Ç–∏–ª –≤–∞—à—É –º–∞–º—É –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –≤ –í–°–£ "–õ–î–ü–† –ø—è—Ç—å", –≤–µ—Ä–æ—Ç—è–Ω–æ—Å—Ç—å –±—ã–ª–∞ –æ–¥–Ω–∞ —Å–æ—Ç–∞—è –ø—Ä–æ—Ü–µ–Ω—Ç–∞.
        –¢–µ–∫—Å—Ç: {txt}.
        –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:"""}],
  temperature=0,
)

print(completion.choices[0].message.content)
print(time.time() - start)
